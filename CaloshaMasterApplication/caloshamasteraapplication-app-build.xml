<?xml version="1.0" encoding="windows-1252" ?>
<!--Ant buildfile generated by Oracle JDeveloper-->
<!--Generated Jul 27, 2014 10:40:30 PM-->
<project name="CaloshaMasterApplicationWorkspace">
    <!--Check params if set, fail otherwise-->
    <!--param: targetenv - mandatory to specify target environment DEV, PRD, UAT.-->
    <!--       wl_username - mandatory to specify deployment server username.-->
    <!--       wl_password - mandatory to specify deployment server password.-->
    <fail message="ERROR: Unspecified parameter detected">
        <condition>
            <or>
                <not>
                    <isset property="targetenv"/>
                </not>
                <not>
                    <isset property="wl_username"/>
                </not>
                <not>
                    <isset property="wl_password"/>
                </not>
                <equals arg1="${targetenv}" arg2=""/>
                <equals arg1="${wl_username}" arg2=""/>
                <equals arg1="${wl_password}" arg2=""/>
            </or>
        </condition>
    </fail>
    <!--Test targetEnv and set appropriate value for the targetServer variable-->
    <target name="-setVars">
        <condition property="isdev">
            <equals arg1="${targetenv}" arg2="DEV"/>
        </condition>
        <condition property="isuat">
            <equals arg1="${targetenv}" arg2="UAT"/>
        </condition>
        <condition property="isprd">
            <equals arg1="${targetenv}" arg2="PRD"/>
        </condition>
    </target>
    <target name="-targetDev" if="isdev">
        <property name="targetServer" value="cssoady2"/>
        <property name="targetReportServer" value="csfmrdy1"/>
        <property name="targetReportFolder" value="\\csfmrdy1\CALOSHA_TEST"/>
        <echo> DEV set as target </echo>
    </target>
    <target name="-targetUat" if="isuat">
        <property name="targetServer" value="cssoaxy2"/>
        <property name="targetReportServer" value="csfmrxy1"/>
        <property name="targetReportFolder" value="\\csfmrxy1\CALOSHA_UAT\"/>
        <echo> UAT set as target </echo>
    </target>
    <target name="-targetPrd" if="isprd">
        <property name="targetServer" value="cssoapy1"/>
        <property name="targetReportServer" value="csfmrpy1"/>
        <property name="targetReportFolder" value="\\csfmrpy1\CALOSHA\"/>
        <echo> PRD set as target </echo>
    </target>
    <!--Point to correct report server-->
    <target name="buildmodules" depends="-setVars,-targetDev,-targetUat,-targetPrd">
        <replaceregexp file="..\CaloshaCommonCode\CaloshaCommonCodeProject\src\gov\ca\dir\acct\calosha\adf\common\code\CaloshaConfig.properties" match="\$\{targetReportServer\}" replace="${targetReportServer}"></replaceregexp>
        <!--Build components-->
        <!--Common Modules/APIs-->
        <ant dir="../CaloshaCarsInterface/CarsWebServiceInterface" antfile="CarsWebServiceInterface-build.xml" target="all" inheritAll="false">
            <property file="targetenv" value="CarsWebServiceInterface-build.properties"/>
        </ant>
        <ant dir="../CaloshaCommonModel/CaloshaCommonModel" antfile="CaloshaCommonModel-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaCommonCode/CaloshaFrameworkExtension" antfile="CaloshaFrameworkExtension-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaCommonCode/CaloshaCommonCodeProject" antfile="CaloshaCommonCode-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaCommonUI/CaloshaCommonUIProject" antfile="CaloshaCommonUI-build.xml" target="deploy" inheritAll="false"/>
        <!--Modules-->
        <ant dir="../CaloshaUseCaseImplementation/UseCase001/ViewController" antfile="CaloUseCase001-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0071b/ViewController" antfile="CaloshaUseCase0071b-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0072/ViewController" antfile="CaloshaUseCase0072-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0073/ViewController" antfile="CaloshaUseCase0073-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase007/ViewController" antfile="CaloshaUseCase007-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase006/ViewController" antfile="CaloshaUseCase006-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0102/ViewController" antfile="CaloshaUseCase0102-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase002/ViewController" antfile="CaloshaUseCase002-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase003/ViewController" antfile="CaloshaUseCase003-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase005/ViewController" antfile="CaloshaUseCase005-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase019/ViewController" antfile="CaloshaUseCase019-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase01016/ViewController" antfile="CaloshaUseCase01016-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0110/ViewController" antfile="CaloshaUseCase011-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase012/ViewController" antfile="CaloshaUseCase012-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0101x/ViewController" antfile="CaloshaUseCase0101x-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0103/ViewController" antfile="CaloshaUseCase0103-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0104/ViewController" antfile="CaloshaUseCase0104-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0105/ViewController" antfile="CaloshaUseCase0105-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0106/ViewController" antfile="CaloshaUseCase0106-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0107/ViewController" antfile="CaloshaUseCase0107-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase01014/ViewController" antfile="CaloshaUseCase01014-vc-build.xml" target="deploy" inheritAll="false"/>
        
        <ant dir="../CaloshaUseCaseImplementation/UseCase01017/ViewController" antfile="CaloshaUseCase01017-vc-build.xml" target="deploy" inheritAll="false"/>
        
        <ant dir="../CaloshaUseCaseImplementation/UseCase010/ViewController" antfile="CaloshaUseCase010-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase016/ViewController" antfile="CaloshaUseCase016-vc-build.xml" target="deploy" inheritAll="false"/>
        
        <ant dir="../CaloshaUseCaseImplementation/UseCase01600/ViewController" antfile="CaloshaUseCase01600-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase01610/ViewController" antfile="CaloshaUseCase01610-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase01615/ViewController" antfile="CaloshaUseCase01615-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0161/ViewController" antfile="CaloshaUseCase0161-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0163/ViewController" antfile="CaloshaUseCase0163-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0164/ViewController" antfile="CaloshaUseCase0164-vc-build.xml" target="deploy" inheritAll="false"/>

        <ant dir="../CaloshaUseCaseImplementation/UseCase022/ViewController" antfile="CaloshaUseCase022-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase021/ViewController" antfile="CaloshaUseCase021-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase023/ViewController" antfile="CaloshaUseCase023-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase024/ViewController" antfile="CaloshaUseCase024-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase0071/ViewController" antfile="CaloshaUseCase071-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../CaloshaUseCaseImplementation/UseCase040/ViewController" antfile="CaloshaUseCase040-vc-build.xml" target="deploy" inheritAll="false"/>
        <!--Static Reports-->
        <ant dir="../../CaloshaReports/CaloReport01/ViewController" antfile="CaloshaReport01-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport01a/ViewController" antfile="CaloshaReport01a-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport03/ViewController" antfile="CaloshaReport03-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport04/ViewController" antfile="CaloshaReport04-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport06/ViewController" antfile="CaloshaReport06-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport08/ViewController" antfile="CaloshaReport08-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport10/ViewController" antfile="CaloshaReport10-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport11/ViewController" antfile="CaloshaReport11-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport12a/ViewController" antfile="CaloshaReport12a-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport12b/ViewController" antfile="CaloshaReport12b-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport13/ViewController" antfile="CaloshaReport13-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport14/ViewController" antfile="CaloshaReport14-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport15/ViewController" antfile="CaloshaReport15-vc-build.xml" target="deploy" inheritAll="false"/>
        <ant dir="../../CaloshaReports/CaloReport28/ViewController" antfile="CaloshaReport28-vc-build.xml" target="deploy" inheritAll="false"/>
    </target>
    <property file="caloshamasteraapplication-app-build.properties"/>
    <property name="workspace.dir" location=".."/>
    <target name="deploy" description="Deploy JDeveloper profiles" depends="-setVars,-targetDev,-targetUat,-targetPrd,buildmodules">
        <taskdef name="ojdeploy" classname="oracle.jdeveloper.deploy.ant.OJDeployAntTask" uri="oraclelib:OJDeployAntTask" classpath="${oracle.jdeveloper.ant.library}"/>
        <ora:ojdeploy xmlns:ora="oraclelib:OJDeployAntTask" executable="${oracle.jdeveloper.ojdeploy.path}" ora:buildscript="${oracle.jdeveloper.deploy.dir}/ojdeploy-build.xml"
                      ora:statuslog="${oracle.jdeveloper.deploy.dir}/ojdeploy-statuslog.xml">
            <ora:deploy>
                <ora:parameter name="forcerewrite" value="true"/>
                <ora:parameter name="workspace" value="${workspace.dir}${oracle.jdeveloper.workspace.path}"/>
                <ora:parameter name="profile" value="${oracle.jdeveloper.deploy.profile.name}"/>
                <ora:parameter name="outputfile" value="${oracle.jdeveloper.deploy.outputfile}"/>
            </ora:deploy>
        </ora:ojdeploy>
    </target>
    <taskdef name="wldeploy" classname="weblogic.ant.taskdefs.management.WLDeploy">
        <classpath>
            <pathelement location="C:\oracle\Middleware\wlserver_10.3\server\lib\weblogic.jar"/>
        </classpath>
    </taskdef>
    <!--deploy static reports-->
    <target name="deploystaticreports" depends="-setVars,-targetDev,-targetUat,-targetPrd">
        <echo> Deploying static reports ... </echo>
        <copy todir="${targetReportFolder}">
            <fileset dir="..\..\CaloshaReports\StaticReports\" includes="*.rdf"/>
        </copy>
        <echo> Deploying static reports completed ...</echo>
    </target>
    <!--undeploy from server identified by targetServer-->  
     <target name="undeployfromserver" depends="-setVars,-targetDev,-targetUat,-targetPrd">
        <!-- -->
        <echo> Undeploying from ${targetServer} </echo>
        <wldeploy action="undeploy" verbose="true"  name="CaloshaMasterApp" failonerror="false"
                  user="${wl_username}" password="${wl_password}" adminurl="t3://${targetServer}:7001/" targets="adf_cluster1"/>
    </target> 
    
    <!--deploy to server identified by targetServer-->  
    <target name="deploytoserver" depends="undeployfromserver, deploy,-setVars,-targetDev,-targetUat,-targetPrd,deploystaticreports">
        <!-- -->
        <echo> Deploying new build to ${targetServer} </echo>
        <copy file="C:\Temp\caloshalibrary\CaloshaMasterApp.ear" todir="\\${targetServer}\deploy\CaloshaMasterApp\"/>
        <wldeploy action="deploy" verbose="true" debug="true" name="CaloshaMasterApp" nostage="true" timeout="3600" source="\\${targetServer}\deploy\CaloshaMasterApp\CaloshaMasterApp.ear"
                  user="${wl_username}" password="${wl_password}" adminurl="t3://${targetServer}:7001/" targets="adf_cluster1"/>
    </target>
    <target name="redeploytoserver" depends="deploy,-setVars,-targetDev,-targetUat,-targetPrd,deploystaticreports">
        <!-- -->
        <echo> Redeploying new build to ${targetServer} </echo>
        <copy file="C:\Temp\caloshalibrary\CaloshaMasterApp.ear" todir="\\${targetServer}\deploy\CaloshaMasterApp\"/>
        <wldeploy action="redeploy" verbose="true" debug="true" name="CaloshaMasterApp" source="\\${targetServer}\deploy\CaloshaMasterApp\CaloshaMasterApp.ear"
                  user="${wl_username}" password="${wl_password}" adminurl="t3://${targetServer}:7001/" targets="adf_cluster1"/>
    </target>
    <target name="deploytoservernorebuild" depends="undeployfromserver,-setVars,-targetDev,-targetUat,-targetPrd,deploystaticreports">
        <echo> Deploying current build to ${targetServer} </echo>
        <wldeploy action="deploy" verbose="true" debug="true" name="CaloshaMasterApp" nostage="true" timeout="3600" source="\\${targetServer}\deploy\CaloshaMasterApp\CaloshaMasterApp.ear"
                  user="${wl_username}" password="${wl_password}" adminurl="t3://${targetServer}:7001/" targets="adf_cluster1"/>
    </target>
    <target name="redeploytoservernorebuild" depends="-setVars,-targetDev,-targetUat,-targetPrd,deploystaticreports">
        <echo> Redeploying current build to ${targetServer} </echo>
        <wldeploy action="redeploy" verbose="true" debug="true" name="CaloshaMasterApp"  source="\\${targetServer}\deploy\CaloshaMasterApp\CaloshaMasterApp.ear"
                  user="${wl_username}" password="${wl_password}" adminurl="t3://${targetServer}:7001/" targets="adf_cluster1"/>
    </target>
</project>
